@model CursoFiltroVM
@{
    ViewData["Title"] = "Busca de Cursos";
    Layout = "~/Views/Universidades/_Layout.cshtml";
}

<h2>Seu futuro em um só lugar!</h2>

<form method="get" asp-controller="Universidades" asp-action="BuscaCursos">
    <select asp-for="CursoId"
            asp-items="@(new SelectList(Model?.Cursos ?? Enumerable.Empty<Curso>(), "Id", "Nome"))">
        <option value="">Curso</option>
    </select>

    <select asp-for="UniversidadeId"
            asp-items="@(new SelectList(Model?.Universidades ?? Enumerable.Empty<Universidade>(), "Id", "Nome"))">
        <option value="">Universidade</option>
    </select>

    <select asp-for="CampusId"
            asp-items="@(new SelectList(Model?.Campi ?? Enumerable.Empty<Campus>(), "Id", "Nome"))">
        <option value="">Campus</option>
    </select>

    <select asp-for="Estado">
        <option value="">Estado</option>
        @foreach (var estado in (Model?.Estados ?? Enumerable.Empty<string>()))
        {
            <option value="@estado">@estado</option>
        }
    </select>

    <select asp-for="Modalidade">
        <option value="">Modalidade</option>
        @foreach (var mod in (Model?.Modalidades ?? Enumerable.Empty<string>()))
        {
            <option value="@mod">@mod</option>
        }
    </select>

    <select asp-for="Periodo">
        <option value="">Período</option>
        @foreach (var p in (Model?.Periodos ?? Enumerable.Empty<string>()))
        {
            <option value="@p">@p</option>
        }
    </select>

    <button type="submit">Filtrar</button>
</form>

<div class="cards">
    @foreach (var item in (Model?.Resultados ?? Enumerable.Empty<CampusCurso>()))
    {
        <div class="card">
            <div class="tag">@item.Campus?.Estado - @item.Modalidade?.Nome</div>
            <h3>@item.Campus?.Universidade?.Nome - @item.Curso?.Nome</h3>
            <p>@item.Campus?.Nome</p>
            <p>@item.Periodo</p>
        </div>
    }
</div>
